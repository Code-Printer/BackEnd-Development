# Redis的value五大数据类型应用场景  
## String  
单值缓存：使用get、set指令完成对数据的缓存和读取  
对象缓存：使用JSON数据格式进行存储和读取  
计数器：使用incr、decr指令完成对数据的增加和减少  
## Hash类型  
### 购物车  
使用Hash类型可以完成购物车的添加、浏览、更改数量、删除、清空等操作，如下图所示：  
![result](https://static01.imgkr.com/temp/80c8e407e78a4f09ad6f710c513ef793.png)   

1、以客户id为key，为每位客户创建一个Hash存储结构对应的购物车信息  
2、Hash结构中创建两个file保存要购买的商品信息：  
(1):file1用于保存购买数量，格式：商品编号:数量nums(动态的购买信息)    
(2):file2用于保存商品的信息，格式：商品编号:json商品的商品信息(静态的信息)  
例：  
![result](https://static01.imgkr.com/temp/0d03c1d45ec24840a39e1396be2fc673.png)  
添加商品：在hash存储结构中增加全新的两个filed  
浏览购买的商品：遍历hash  
删除商品：删除两个filed  
改变数量：自增自减filed1中的nums值  
清空购物车：删除key  
改进方案：上述设计中，如果不同用户购买同一件商品，仅数量不同，那么就会导致描述信息的大量重复，此时应该考虑将商品的描述信息设置成独立的Hash结构，用户添加商品时如果这个商品存在于独立的Hash结构，那么就无需添加商品的描述信息。  
### 秒杀活动  
某商家在双十一的活动是，有面值分别为30元、50元、100元的充值卡各有1000张需要售出。  
使用Hash结构可完成此次秒杀活动，如下图所示：  
![result](https://static01.imgkr.com/temp/c4239c83092a423989a6a2e14e29bf18.png)  
1、以商家id作为key  
2、将参与抢购的商品id作为field  
3、将参与抢购的商品数量作为对应的value  
4、抢购时使用降值的方式控制产品数量  
![result](https://static01.imgkr.com/temp/b027923da0c24e649a5563dc008abc28.png)  
注：对于超卖问题，可以考虑使用分布式锁。  
## List（集合中的数据顺序问题）  
### 微博关注列表按照好友的关注顺序显示，微信消息的显示列表按照消息到达的先后顺序进行显示
(1)可以使用栈模型用来解决最新消息问题,List的栈模型，完成上述两个功能，新来的数据在最上面（栈顶）显示。  
### 企业中多台服务器的日志打印顺序
可以使用List的队列模型用来解决多路信息归并的问题，多个服务器按照日志的输出顺序同时记录到队列中。  
## Set（集合中的数据重复问题）  
### Set类型主要用于数据不能重复，以及需要获取多个数据源交集、并集的场景
1、比如点赞用户、所有粉丝可以存储在Set中，保证这些用户不会重复  
2、共同关注、共同好友等交集、并集功能还可以使用Set实现  
## Zset（Zset的数据格式有分数）  
#### Zset类型通常用来实现排行榜等功能
1、可以按照票数、分数排序，并得到某一数据的排名
