# Web安全开发  
## XSS攻击与CSRF攻击的区别  
### XSS(跨域脚本攻击)  
利用用户相信浏览器的操作。向网站的显示接口中注入恶意代码(在url或评论窗口输入恶意链接)，诱导用户点击恶意链接，从而获取用户cookie信息或显示恶搞内容   
### XSS的防御方法  
1、使用编码或者转义的方式对白名单以外的标签进行转义，防止xss攻击  
2、使用HttpOnly防止劫取cookie，浏览器将禁止页面的Javascript访问带有HttpOnly属性的Cookie。
### CSRF(跨域请求伪造)    
利用浏览器相信用户的操作。用户登录网站A，通过引诱用户点击访问危险网站B，危险网站B携带恶意代码，并重定向用户请求去请求已登录的网站A(这里访问用户已登录的网站A时，网站A会验证cookie，但用户已登录，所以验证可以通过)，达到执行网站B的恶意代码被执行。  
![result](https://static01.imgkr.com/temp/e5ad2e1b34184f4192d27ec945c97158.jpg)  
#### CSRF的防御方法  
1、使用随机token验证(当用户登录成功到服务器，服务器会在每次请求时返回一个随机的token给客户端，客户端每次访问服务器api时，都需要携带token，只有验证token通过才允许返回响应数据，否则就输出错误信息)  
2、使用请求头中的Referer字段验证(HTTP头中有一个字段叫Referer，它记录了HTTP请求的来源地址。在通常情况下，访问一个安全受限页面的请求必须来自于同一个网站，例如银行的转账操作必须是在银行自己的网页发起的，不能在第三方的网站发起请求)
